<section class="pruner-wrap">
  <header class="pruner-head">
    <div class="left">
      <label title="Select/Deselect all" class="checkbox">
        <input id="pruner-select-all" type="checkbox"> Select All
      </label>
    </div>
    <div class="right">
      <span>Showing last {{count}} messages (oldest → newest)</span>
    </div>
  </header>

  <!-- Column headers / descriptors -->
  <div class="pruner-cols">
    <div class="col cb">Select</div>
    <div class="col anchor">Anchor</div>
    <div class="col speaker">Speaker</div>
    <div class="col time">Time</div>
    <div class="col content">Preview</div>
  </div>

  <ol class="pruner-list">
    {{#each rows as |row|}}
    <li class="pruner-row {{#unless row.canDelete}}locked{{/unless}}" data-id="{{row.id}}">
      <div class="cells">
        <div class="cell cb">
          <input class="sel" type="checkbox" value="{{row.id}}" {{#unless row.canDelete}}disabled{{/unless}}>
        </div>
        <div class="cell anchor">
          <input class="anchor" type="radio" name="anchor" value="{{row.id}}">
        </div>
        <div class="cell speaker">
          <div class="who">
            <strong class="speaker-name">{{row.speaker}}</strong>
            <span class="user">({{row.user}})</span>
          </div>
        </div>
        <div class="cell time">
          {{row.when}}
        </div>
        <!-- Use data-full ONLY (no title attr) to avoid native browser tooltip -->
        <div class="cell content" data-full="{{row.full}}">
          {{row.content}}
          {{#unless row.canDelete}} <em class="note">[no delete permission]</em> {{/unless}}
        </div>
      </div>
    </li>
    {{/each}}
  </ol>

  <footer class="pruner-foot">
    <div class="btns">
      <button type="button" class="btn primary" data-action="deleteSelected"><i class="fas fa-trash"></i> Delete Selected</button>
      <button type="button" class="btn" data-action="deleteNewer"><i class="fas fa-forward"></i> Delete newer than anchor</button>
      <button type="button" class="btn" data-action="deleteOlder"><i class="fas fa-backward"></i> Delete older than anchor</button>
      <span class="spacer"></span>
      <button type="button" class="btn ghost" data-action="refresh"><i class="fas fa-rotate"></i> Refresh</button>
      <button type="button" class="btn ghost" data-action="about"><i class="fas fa-info-circle"></i> About</button>
    </div>
    <p class="tip">
      Tip: Click a row (not the controls) to toggle its checkbox. Use the radio (●) to choose the <strong>Anchor</strong> for the
      “newer/older than anchor” actions.
    </p>
  </footer>

  <!-- Floating tooltip that follows the mouse -->
  <div id="cp-tooltip"></div>
</section>
